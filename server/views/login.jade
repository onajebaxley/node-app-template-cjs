extends layout
block content
	div(flex layout='row' layout-align='center center' ng-controller='app.auth.LoginController')
		md-whiteframe.app-focus-box.md-whiteframe-z3(layout='column' layout-align='center center' layout-margin layout-padding)
			div.md-headline(flex layout='row' layout-padding layout-margin)
				div(flex='10')
					md-icon(md-svg-icon='logo')
				div(flex='90') #{jv_app_title}
			form(name='loginForm' method='post' action='#{jv_root_path}auth/login' layout-fill layout='column' layout-padding layout-margin)
				md-input-container(flex)
					label username
					input.md-body-1(type='text' ng-model='username' name='username' required) 
				md-input-container(flex)
						label password
						input.md-body-1(type='password' ng-model='password' name='password' required)
				input#redirect(type='hidden', name='redirect', value='#{redirect}')
				div(flex layout='row' layout-align='center center')
					label.md-body-1.app-text-error(flex) #{errorMessage}
				md-input-container(flex layout='row' layout-align='center center')
					md-button.md-raised.md-primary(type='submit') Login
block scripts
	script(type='text/javascript')
		| var username= '#{username}'
		| angular.module('app').config(['app.core.configProvider', function(configProvider) {
		|     configProvider.set('username', username);
		| }]);
