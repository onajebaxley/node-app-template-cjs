extends layout

block content
	div(layout='row' layout-fill)
		section(layout='column' flex layout-align='center center')
			md-card.app-focus-box.md-whiteframe-10dp
				md-toolbar
					div(layout='column' layout-padding layout-align='center center')
						div.md-headline.md-padding
							md-icon(md-svg-icon='logo')
							span.md-padding #{jv_app_title}
				md-card-content.md-padding
					form(name='loginForm' method='post' action='#{jv_root_path}auth/login')
						md-input-container.md-block
							label(for='username') Username
							input(type='text' name='username' ng-model='username' required)
						md-input-container.md-block
							label(for='password') Password
							input(type='password' name='password' ng-model='password' required)
						input#redirect(type='hidden', name='redirect', value='#{redirect}')
						div(flex layout='row' layout-align='center center')
							label.md-body-1.app-text-error(flex) #{errorMessage}
						md-input-container.md-block
							div(layout='row' layout-align='center center')
								md-button.md-raised.md-accent(flex='50' type='submit') Login

block scripts
	script(type='text/javascript')
		| var username= '#{username}'
		| angular.module('app').config(['app.core.configProvider', function(configProvider) {
		|     configProvider.set('username', username);
		| }]);
